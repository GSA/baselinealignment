<!DOCTYPE html>
<html lang="en">
<head>
<title>Focus Order Passing Example 2</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="4cPass1.js"></script>
<style>
.button {
  background-color: #0000FF;  
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  width: 250px;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
  border: 2px solid black;
  padding: 10px;
  border-radius: 25px;
  
}

body {font-family: Arial, Helvetica, sans-serif;}

/* The Modal (background) */
.modal {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 1; /* Sit on top */
  padding-top: 100px; /* Location of the box */
  left: 0;
  top: 0;
  width: 60%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: none;
  background-color: none;
}

/* Modal Content */
.modal-content {
  background-color: #fefefe;
  margin: auto;
  padding: 20px;
  border: 1px solid #888;
  width: 60%;  
  border-color: blue;
}

/* The Close Button */
.close {
  color: #aaaaaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}

.hidden 
{position:absolute;
left:-10000px;
top:auto;
width:1px;
height:1px;
overflow:hidden;}
</style>
</head>
<body >
<p><strong>*Note:</strong> this page provides only limited functionality, as described in the Trusted Tester training course.</p>
<h2>Dialog Box Example</h2>
<p>
Modal dialog boxes should receive focus when they are opened. Focus needs to stay in the box until the information is complete. Users should not be able to navigate away from the modal dialog box while it is still open
</p>

<!-- Trigger/Open The Modal -->
<button id="myBtn" class="button" title="Upload Document" tabindex="1" >Upload File Details</button>

<!-- The Modal -->
<div id="myModal" class="modal"  >
<div id="box1" >
  <!-- Modal content -->
  <div id= "modal-content" class="modal-content" tabindex="-1">
    <span class="close" tabindex="8" id="clse">&times;</span>
	<span class="hidden" tabindex="9" id="clse1">&times;</span>
	
	<fieldset >
   <label for="fileinput"> Browse </label> <input type='file'  class="button" id='fileinput' name='fileinput' value="Upload File" tabindex="3" title="Upload File">   
</fieldset ><br><br>	
<fieldset >
   <h2> <a href="#" onclick="clkFunction2()" tabindex="4" title="Course Topics" id="hyprlnkId">Course Topics</a> </h2>
</fieldset ><br><br>
    <fieldset >
    <input type="button" class="button" value="New Folder" onclick="clkFunction1()" tabindex="5"  id="newfileId" title="New Folder"/> 
	  
	</fieldset >
<button tabindex="6">OK</button>
<button tabindex="7">Cancel</button>
  </div>
</div>
</div>

<script>  
var fcs = document.getElementsByClassName("modal-content");

// Get the modal
var modal = document.getElementById('myModal');

// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

span.onkeydown = function( event ) {
    if ( event.keyCode == 13 ) {	 
       modal.style.display = "none";
		
    }	
	
};

// When the user clicks the button, open the modal 
btn.onclick = function() {  
  modal.style.display = "block";  
  
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

//when user clicks Escape button, dialogue box will disappear
window.onkeydown = function( event ) {
    if ( event.keyCode == 27 ) {	 
       modal.style.display = "none";   
		
    }
	
	
};



function clkFunction1() {
  alert("You will not create a new folder for this exercise.");
}

function clkFunction2() {
  alert("You will not navigate to the Course Topics for this exercise.");
}


$('#clse1').on('focus', function() {
  
  $('#fileinput').focus();
  $("#newfileId").css("border-color", "black");
});



$('#fileinput').on('focus', function() {
$('#fileinput').keydown(function (e) {
    if (e.shiftKey && e.keyCode == 9 ) {
        //alert(" Shift + tab was pressed");
		$('#clse').focus();
		$("#fileinput").css("border-color", "black");
    }
});


  $("#fileinput").css("border-color", "red");
});

$('#hyprlnkId').on('focus', function() { 
  $("#fileinput").css("border-color", "black");
});
/*
$('#newfileId').on('focus', function() {
  $("#newfileId").css("border-color", "red");
   $("#hyprlnkId").css("border-color", "black");
  
});
*/
 $(document).ready(function () {
   $("#modal-content").focus();
   
  
   window.onkeydown = function( event ) {
  
	 $("#modal-content").css("border-color", "black");
};

$("#modal-content").mousedown(function(){
  $("#modal-content").css("border-color", "black");
}); 



$("#newfileId").click(function(){
    $('#clse1').attr('tabindex', function(index, attr) {
        return index - 10;
    });

   $("#clse1").blur();  
   $("#modal-content").blur();  
    
	
  }); 

  
$("#fileinput").click(function(){
 $('#clse1').attr('tabindex', function(index, attr) {
        return index - 10;
    });
    $("#clse1").blur();  
   $("#modal-content").blur();   
  }); 

$("#hyprlnkId").click(function(){
 $('#clse1').attr('tabindex', function(index, attr) {
        return index - 10;
    });
    $("#clse1").blur(); 
    $("#modal-content").blur();   
  }); 
   
  });

</script>

</body>
</html>
